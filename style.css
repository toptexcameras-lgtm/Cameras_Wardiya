:root {
      --primary: #2563eb;
      --secondary: #7c3aed;
      --accent: #0891b2;
      --dark: #1e293b;
      --light: #f8fafc;
      --card-bg: #ffffff;
      --border: #e2e8f0;
      --success: #10b981;
      --text-primary: #0f172a;
      --text-secondary: #64748b;
      --shadow: 0 4px 6px -1px rgba(0,0,0,.10), 0 2px 4px -1px rgba(0,0,0,.06);
      --shadow-hover: 0 10px 15px -3px rgba(0,0,0,.10), 0 4px 6px -2px rgba(0,0,0,.05);
      --shadow-card: 0 1px 3px 0 rgba(0,0,0,.10), 0 1px 2px 0 rgba(0,0,0,.06);

      /* Week colors */
      --current-green: #10b981;
      --current-green-light: #d1fae5;
      --last-gray: #6b7280;
      --last-gray-light: #f3f4f6;
      --next-red: #ef4444;
      --next-red-light: #fee2e2;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body{
      font-family: "Work Sans", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: #f1f5f9;
      color: var(--text-primary);
      min-height: 100vh;
      padding: 1.5rem 1rem;
      overflow-x: hidden;
    }

    .container{ max-width: 1400px; margin: 0 auto; position: relative; z-index: 1; }

    header{
      background: var(--card-bg);
      padding: 2rem;
      border-radius: 16px;
      box-shadow: var(--shadow-card);
      margin-bottom: 1.5rem;
      border: 1px solid var(--border);
    }

    h1{
      font-family: "Syne", system-ui, sans-serif;
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: .5rem;
    }
    .subtitle{ color: var(--text-secondary); font-size: 1rem; }

    .nav-tabs{ display: flex; gap: .5rem; margin-top: 1.5rem; flex-wrap: wrap; }
    .tab-btn{
      font-family: "Work Sans", system-ui, sans-serif;
      font-weight: 600;
      padding: .75rem 1.5rem;
      border: none;
      background: var(--light);
      color: var(--text-secondary);
      border-radius: 10px;
      cursor: pointer;
      transition: all .2s ease;
      font-size: .95rem;
    }
    .tab-btn:hover{ background:#e2e8f0; color: var(--text-primary); }
    .tab-btn.active{ background: var(--primary); color: #fff; }

    .tab-content{ display:none; }
    .tab-content.active{ display:block; }

    /* Dashboard */
    .dashboard{
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
    }

    .week-card{
      background: var(--card-bg);
      border-radius: 16px;
      padding: 2rem;
      box-shadow: var(--shadow-card);
      border: 1px solid var(--border);
      transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
      position: relative;
      overflow: visible;
    }
    .week-card:hover{ box-shadow: var(--shadow-hover); transform: translateY(-2px); }

    .week-card.empty-card{
      opacity: .55;
      border: 2px dashed var(--border);
      background: var(--light);
    }

    /* Current */
    .week-card.current{
      border: 3px solid var(--current-green);
      box-shadow: 0 14px 30px rgba(16,185,129,.30);
      transform: translateY(-4px) scale(1.08);
      background: linear-gradient(135deg, #ffffff 0%, var(--current-green-light) 100%);
      border-radius: 22px;
    }
    .week-card.current::before{
      content: "ðŸŒŸ CURRENT WEEK";
      position:absolute;
      top:-10px;
      left:50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, var(--current-green), #059669);
      color:#fff;
      padding: .5rem 1.8rem;
      font-weight: 800;
      font-size: .75rem;
      letter-spacing: 1.2px;
      border-radius: 999px;
      box-shadow: 0 4px 16px rgba(16,185,129,.45);
      animation: pulse-green 2s infinite;
      z-index: 2;
      white-space: nowrap;
    }
    @keyframes pulse-green{
      0%,100%{ box-shadow: 0 4px 16px rgba(16,185,129,.45); }
      50%{ box-shadow: 0 6px 26px rgba(16,185,129,.75); }
    }
    /* Rotating star */
    .week-card.current .week-label::before{
      content:"â˜… ";
      color: var(--current-green);
      animation: rotate-star 3s linear infinite;
      display:inline-block;
    }
    @keyframes rotate-star{ from{transform:rotate(0)} to{transform:rotate(360deg)} }

    /* Last */
    .week-card.last{
      border: 2px solid var(--last-gray);
      background: linear-gradient(135deg, #ffffff 0%, var(--last-gray-light) 100%);
      opacity: .92;
    }
    .week-card.last::before{
      content:"LAST WEEK";
      position:absolute;
      top:-10px;
      left:50%;
      transform: translateX(-50%);
      background: var(--last-gray);
      color:#fff;
      padding: .5rem 1.8rem;
      font-weight: 700;
      font-size: .75rem;
      letter-spacing: 1.2px;
      border-radius: 999px;
      box-shadow: 0 2px 10px rgba(107,114,128,.28);
      z-index:2;
      white-space: nowrap;
    }

    /* Next */
    .week-card.next{
      border: 2px solid var(--next-red);
      background: linear-gradient(135deg, #ffffff 0%, var(--next-red-light) 100%);
    }
    .week-card.next::before{
      content:"NEXT WEEK";
      position:absolute;
      top:-10px;
      left:50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, var(--next-red), #dc2626);
      color:#fff;
      padding: .5rem 1.8rem;
      font-weight: 700;
      font-size: .75rem;
      letter-spacing: 1.2px;
      border-radius: 999px;
      box-shadow: 0 2px 10px rgba(239,68,68,.28);
      z-index:2;
      white-space: nowrap;
    }

    .week-header{ text-align:center; margin-bottom: 1rem; }
    .week-label{
      font-size: .75rem;
      font-weight: 800;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: .8px;
      margin-bottom: .5rem;
    }
    .date-range{
      color: var(--text-primary);
      font-size: 1rem;
      font-weight: 700;
      text-align:center;
      margin-bottom: 1.25rem;
      padding: .95rem;
      background: linear-gradient(180deg, rgba(248,250,252,.92), rgba(241,245,249,.92));
      border-radius: 12px;
      border: 1px solid rgba(226,232,240,.9);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.8);
    }

    .shift-grid{ display:grid; grid-template-columns: repeat(3,1fr); gap: 1.1rem; }

    .shift-item{
      display:flex;
      flex-direction:column;
      align-items:center;
      padding: 1.4rem 1rem;
      background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(248,250,252,.92));
      border: 1px solid rgba(226,232,240,.95);
      border-radius: 14px;
      transition: all .2s ease;
      position: relative;
      overflow:hidden;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.85), 0 10px 18px rgba(2,6,23,.06);
    }
    .shift-item::before{
      content:"";
      position:absolute;
      inset:0;
      background: radial-gradient(240px 160px at 20% 10%, rgba(37,99,235,.08), transparent 60%);
      opacity:.9;
      pointer-events:none;
    }
    .shift-item:hover{
      transform: translateY(-3px);
      border-color: rgba(37,99,235,.45);
      box-shadow: 0 14px 28px rgba(2,6,23,.08);
      background:#fff;
    }
    .shift-role{
      font-weight: 700;
      color: var(--text-secondary);
      font-size: .72rem;
      margin-bottom: 1rem;
      text-transform: uppercase;
      letter-spacing: .5px;
      background: rgba(15,23,42,.04);
      padding: .28rem .55rem;
      border-radius: 999px;
      border: 1px solid rgba(226,232,240,.9);
    }
    .shift-person{ font-weight: 800; font-size: 1.15rem; }

    .person-badge{
      display:inline-block;
      padding: .45rem .85rem;
      border-radius: 999px;
      font-weight: 800;
      font-size: .9rem;
      box-shadow: 0 10px 18px rgba(2,6,23,.06);
      border: 1px solid rgba(2,6,23,.06);
    }
    .person-ahmed { background:#86efac; color:#166534; border: 2px solid #22c55e; }
    .person-yousef{ background:#fdba74; color:#9a3412; border: 2px solid #f97316; }
    .person-omar  { background:#93c5fd; color:#1e3a8a; border: 2px solid #3b82f6; }

    .off-badge{
      display:inline-block;
      padding: .55rem 1.2rem;
      border-radius: 999px;
      background: linear-gradient(135deg, #f59e0b, #d97706);
      color:#fff;
      font-weight: 800;
      font-size: .85rem;
      box-shadow: 0 6px 14px rgba(245,158,11,.28);
    }

    .schedule-section{
      background: var(--card-bg);
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: var(--shadow-card);
      border: 1px solid var(--border);
    }

    .schedule-controls{
      display:flex;
      gap: .75rem;
      margin-bottom: 1.25rem;
      flex-wrap:wrap;
      align-items:center;
      justify-content:center;
    }

    .filter-btn, .action-btn{
      font-family: "Work Sans", system-ui, sans-serif;
      font-weight: 700;
      padding: .75rem 1.25rem;
      border: 1px solid var(--border);
      background:#fff;
      color: var(--text-primary);
      border-radius: 10px;
      cursor:pointer;
      transition: all .2s ease;
      font-size: .9rem;
    }
    .filter-btn:hover, .action-btn:hover{ border-color: var(--primary); background:#eff6ff; }
    .filter-btn.active{ background: var(--primary); color:#fff; border-color: var(--primary); }
    .action-btn{ background: var(--primary); color:#fff; border-color: var(--primary); }
    .action-btn:hover{ background: var(--secondary); border-color: var(--secondary); }

    .schedule-table{
      width:100%;
      border-collapse: separate;
      border-spacing: 0;
      overflow:hidden;
    }
    .schedule-table thead{ background: var(--dark); color:#fff; }
    .schedule-table th{
      font-weight: 800;
      padding: 1rem .75rem;
      text-align:left;
      font-size: .82rem;
      text-transform: uppercase;
      letter-spacing: .5px;
      white-space: nowrap;
    }
    .schedule-table th:first-child{ border-top-left-radius: 10px; }
    .schedule-table th:last-child{ border-top-right-radius: 10px; }
    .schedule-table td{
      padding: 1rem .75rem;
      border-bottom: 1px solid var(--border);
      font-size: .9rem;
    }
    .schedule-table tr:hover{ background:#f8fafc; }
    .schedule-table .week-num{
      font-weight: 800;
      color: var(--primary);
      font-size: .95rem;
    }
    .schedule-table tr.current-week{
      background: rgba(16,185,129,.08);
      border-left: 4px solid var(--current-green);
    }
    .schedule-table tr.current-week td{ border-bottom-color: rgba(16,185,129,.22); }

    /* New Week Banner */
    .new-week-banner{
      position: fixed;
      top: -100px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, var(--current-green), #059669);
      color:#fff;
      padding: 1rem 2.5rem;
      font-weight: 800;
      font-size: 1.1rem;
      border-radius: 999px;
      box-shadow: 0 12px 28px rgba(16,185,129,.45);
      z-index: 9999;
      transition: top .3s cubic-bezier(.34,1.56,.64,1), opacity .3s ease;
      opacity: 0;
      white-space: nowrap;
    }
    .new-week-banner.show{
      top: 24px;
      opacity: 1;
    }

    /* =========================================
       Sidebar Navigation + Desktop Layout
       ========================================= */

    .app-shell{
      max-width: 1200px;
      margin: 0 auto;
      padding: 14px;
      display: grid;
      grid-template-columns: 260px 1fr;
      gap: 14px;
      align-items: start;
    }

    .side-nav{
      position: sticky;
      top: 14px;
      background: rgba(255,255,255,.9);
      border: 1px solid rgba(226,232,240,.9);
      border-radius: 18px;
      box-shadow: 0 10px 24px rgba(2,6,23,.06);
      padding: 14px;
      backdrop-filter: blur(10px);
    }

    .brand{
      padding: 10px 10px 14px 10px;
      border-bottom: 1px solid rgba(226,232,240,.9);
      margin-bottom: 12px;
    }
    .brand-title{
      font-family: "Syne", system-ui, sans-serif;
      font-weight: 800;
      letter-spacing: .3px;
      font-size: 18px;
    }
    .brand-sub{
      color: var(--text-secondary);
      font-weight: 600;
      font-size: 12px;
      margin-top: 2px;
    }

    .nav-item{
      width: 100%;
      display: flex;
      gap: 10px;
      align-items: center;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(226,232,240,.9);
      background: #f8fafc;
      cursor: pointer;
      font-weight: 800;
      color: var(--text-primary);
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease;
      margin-bottom: 10px;
    }
    .nav-item:hover{
      transform: translateY(-1px);
      border-color: rgba(37,99,235,.35);
      box-shadow: 0 10px 18px rgba(2,6,23,.06);
      background: #ffffff;
    }
    .nav-item.active{
      background: linear-gradient(135deg, rgba(37,99,235,1), rgba(124,58,237,1));
      color: #fff;
      border-color: rgba(37,99,235,.25);
      box-shadow: 0 16px 30px rgba(37,99,235,.25);
    }
    .nav-ico{ font-size: 16px; }
    .nav-txt{ font-size: 14px; }

    .nav-hint{
      margin-top: 8px;
      padding: 12px;
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(248,250,252,.9), rgba(241,245,249,.9));
      border: 1px solid rgba(226,232,240,.9);
    }
    .hint-title{
      font-weight: 900;
      font-size: 12px;
      color: var(--text-primary);
      margin-bottom: 4px;
    }
    .hint-text{
      font-size: 12px;
      color: var(--text-secondary);
      line-height: 1.35;
    }

    .main-content{
      min-width: 0;
    }

    /* =========================================
       Dashboard Cards (Desktop - 3 columns)
       ========================================= */
    .dashboard{
      display: grid !important;
      grid-template-columns: repeat(3, minmax(0,1fr)) !important;
      gap: 14px !important;
    }

    /* Medium cards */
    .week-card{
      padding: 16px !important;
      border-radius: 18px !important;
    }

    /* keep shifts readable */
    .shift-grid{
      grid-template-columns: 1fr !important;
      gap: 10px !important;
    }
    .shift-item{ padding: 14px !important; }

    /* Current week: more prominent */
    .week-card.current{
      border-width: 3px !important;
      transform: translateY(-3px) scale(1.04) !important;
      box-shadow: 0 22px 44px rgba(16,185,129,.28) !important;
    }

    /* Make the badge sit nicely and not cover content */
    .week-card.current::before,
    .week-card.last::before,
    .week-card.next::before{
      top: -10px !important;
      font-size: 11px !important;
      padding: 6px 12px !important;
    }

    /* Date range compact */
    .date-range{
      font-size: 15px !important;
      padding: 10px 10px !important;
    }

    /* =========================================
       MOBILE LAYOUT - Swipeable Cards
       ========================================= */
    @media (max-width: 820px){
      .app-shell{
        grid-template-columns: 1fr;
        gap: 12px;
        padding: 10px;
      }
      
      .side-nav{
        position: fixed;
        left: 10px;
        right: 10px;
        bottom: 10px;
        top: auto;
        z-index: 50;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        padding: 10px;
        border-radius: 18px;
      }
      
      .brand, .nav-hint{ display: none; }

      .nav-item{ margin: 0; justify-content: center; padding: 12px; }
      .nav-txt{ font-size: 13px; }
      .nav-ico{ font-size: 16px; }

      .main-content{
        padding-bottom: 100px; /* space for bottom nav */
      }

      /* Swipeable Dashboard Container */
      .dashboard{
        display: flex !important;
        overflow-x: auto !important;
        scroll-snap-type: x mandatory !important;
        scroll-behavior: smooth !important;
        -webkit-overflow-scrolling: touch !important;
        gap: 16px !important;
        padding: 0 16px !important;
        margin: 0 -16px !important;
      }
      
      /* Hide scrollbar but keep functionality */
      .dashboard::-webkit-scrollbar {
        display: none;
      }
      .dashboard {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      /* Each card takes comfortable mobile width */
      .week-card{
        flex: 0 0 85% !important;
        scroll-snap-align: center !important;
        scroll-snap-stop: always !important;
        padding: 18px !important;
        max-width: 400px !important;
      }
      
      /* Current card slightly larger and more prominent */
      .week-card.current{
        flex: 0 0 88% !important;
        transform: scale(1.02) !important;
        border-width: 3px !important;
        box-shadow: 0 20px 40px rgba(16,185,129,.32) !important;
      }
      
      /* Comfortable text sizing */
      .date-range{
        font-size: 16px !important;
        padding: 12px !important;
      }
      
      .shift-role{
        font-size: 11px !important;
        margin-bottom: .7rem !important;
      }

      .shift-person{
        font-size: 1.1rem !important;
      }

      .person-badge{
        padding: .45rem .8rem !important;
        font-size: .9rem !important;
      }
      
      .off-badge{
        padding: .5rem 1.1rem !important;
        font-size: .85rem !important;
      }

      /* Badge positioning for mobile */
      .week-card.current::before,
      .week-card.last::before,
      .week-card.next::before{
        top: -9px !important;
        font-size: 10px !important;
        padding: 5px 10px !important;
      }

      /* Banner fits phone width */
      .new-week-banner{
        width: calc(100% - 24px);
        max-width: 520px;
        text-align: center;
        white-space: normal;
        line-height: 1.25;
        font-size: 1rem;
        padding: .9rem 2rem;
      }

      /* Table container: nicer on phone */
      .schedule-section{ 
        padding: 1rem !important; 
      }
      
      .schedule-table{
        font-size: .85rem;
      }
      
      .schedule-table th,
      .schedule-table td{
        padding: .75rem .5rem;
      }
    }

    @keyframes flash {
      0%,100%{ background: rgba(37,99,235,.04); }
      50%{ background: #dbeafe; }
    }
/* Date search input */
.date-search{
  flex: 1 1 220px;
  min-width: 190px;
  padding: .75rem 1rem;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: #ffffff;
  font-weight: 800;
  font-size: .9rem;
  outline: none;
}
.date-search:focus{
  border-color: rgba(37,99,235,.45);
  box-shadow: 0 0 0 4px rgba(37,99,235,.10);
}
.date-search.invalid{
  border-color: rgba(239,68,68,.85);
  box-shadow: 0 0 0 4px rgba(239,68,68,.12);
}
@media (max-width: 820px){
  .date-search{ width: 100%; min-width: 0; }
}

/* Mobile: ensure CURRENT/LAST/NEXT badges are fully visible and not cut */
@media (max-width: 820px){
  .week-card.current::before,
  .week-card.last::before,
  .week-card.next::before{
    max-width: calc(100% - 18px);
    white-space: normal;          /* allow wrap if needed */
    text-align: center;
    line-height: 1.15;
  }
}

/* OFF day note (holiday hint) */
.off-note{
  margin-top: 6px;
  font-weight: 800;
  font-size: .78rem;
  color: rgba(15,23,42,.75);
}
.off-note.holiday{
  color: #b45309;
}


/* Screen-reader only */
.sr-only{
  position:absolute;width:1px;height:1px;
  padding:0;margin:-1px;overflow:hidden;
  clip:rect(0,0,0,0);white-space:nowrap;border:0;
}

/* OFF badge icon-only */
.off-badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width: 52px;
}

@media (max-width: 820px){
  .week-card.current::before,
  .week-card.last::before,
  .week-card.next::before{
    max-width: calc(100% - 18px);
    white-space: normal;
    text-align: center;
    line-height: 1.15;
  }
}

/* Keep controls tidy with date picker */
.schedule-controls{
  align-items: stretch;
}

/* Stronger current week highlight in full schedule */
.schedule-table tbody tr.current-week{
  background: linear-gradient(90deg, rgba(16,185,129,.16), rgba(255,255,255,1)) !important;
  box-shadow: inset 4px 0 0 rgba(16,185,129,1) !important;
}
